module.exports=[15163,a=>{"use strict";function b(a,b){let c=a.match(RegExp(`${b}:\\s*(\\d+)`));return c?parseInt(c[1]):null}function c(a,b){let c=a.match(RegExp(`${b}:\\s*(true|false)`));return c?"true"===c[1]:null}function d(a){if(!a)return{nodes:[{id:"1",type:"authStarter",position:{x:250,y:50},data:{label:"Auth Starter"}}],edges:[]};let d=function(a){let d={};if(a.includes("prismaAdapter")){d.hasDatabase=!0;let b=a.match(/provider:\s*["'](\w+)["']/);d.databaseProvider=b?b[1]:"sqlite"}if(a.includes("emailAndPassword")){d.hasEmailPassword=!0;let e=a.match(/emailAndPassword:\s*{([\s\S]+?)}/);if(e){let a=e[1];d.emailPasswordConfig={minLength:b(a,"minPasswordLength")||8,maxLength:b(a,"maxPasswordLength")||128,requireVerification:c(a,"requireEmailVerification")||!1,autoSignIn:c(a,"autoSignIn")||!0,resetTokenExpiresIn:b(a,"resetPasswordTokenExpiresIn")||3600}}}if(a.includes("emailVerification")){d.hasEmailVerification=!0;let e=a.match(/emailVerification:\s*{([\s\S]+?)}/);if(e){let a=e[1];d.emailVerificationConfig={sendOnSignUp:c(a,"sendOnSignUp")||!0,sendOnSignIn:c(a,"sendOnSignIn")||!1,autoSignInAfterVerification:c(a,"autoSignInAfterVerification")||!0,tokenExpiresIn:b(a,"tokenExpiresIn")||3600}}}if(d.socialProviders=[],a.includes("google:")&&d.socialProviders.push("google"),a.includes("github:")&&d.socialProviders.push("github"),a.includes("accountLinking")){d.hasAccountLinking=!0;let b=a.match(/accountLinking:\s*{([\s\S]+?)}/);if(b){let a=b[1];d.accountLinkingConfig={trustedProviders:function(a,b){let c=a.match(RegExp(`${b}:\\s*\\[([^\\]]+)\\]`));return c?c[1].split(",").map(a=>a.trim().replace(/['"]/g,"")):null}(a,"trustedProviders")||[],allowDifferentEmails:c(a,"allowDifferentEmails")||!1}}}if(a.includes("rateLimit")){d.hasRateLimit=!0;let c=a.match(/rateLimit:\s*{([\s\S]+?)}/);if(c){let a=c[1];d.rateLimitConfig={window:b(a,"window")||60,maxRequests:b(a,"max")||100,customRules:function(a,b){let c=a.match(RegExp(`${b}:\\s*({[^}]+})`));if(c)try{return JSON.parse(c[1].replace(/(\w+):/g,'"$1":'))}catch{return{}}return null}(a,"customRules")||{}}}}return(a.includes("useSecureCookies")||a.includes("cookiePrefix"))&&(d.hasAdvanced=!0,d.advancedConfig={useSecureCookies:!0,httpOnlyCookies:!0,secureCookies:!0}),d}(a),e=[],f=[],g=1,h=0;e.push({id:g.toString(),type:"authStarter",position:{x:0,y:h},data:{label:"Auth Start"}});let i=g.toString();if(g++,h+=150,d.hasDatabase){let a=g.toString();e.push({id:a,type:"database",position:{x:0,y:h},data:{label:"Database"}}),f.push({id:`e${i}-${a}`,source:i,target:a,animated:!0}),g++,h+=150;let b=g.toString();e.push({id:b,type:"prisma",position:{x:0,y:h},data:{label:"Prisma Adapter"}}),f.push({id:`e${a}-${b}`,source:a,target:b,animated:!0}),g++,h+=150;let c=g.toString();e.push({id:c,type:"provider",position:{x:0,y:h},data:{label:"DB Provider"}}),f.push({id:`e${b}-${c}`,source:b,target:c,animated:!0}),g++,h+=150;let j=g.toString();e.push({id:j,type:d.databaseProvider||"sqlite",position:{x:0,y:h},data:{label:(d.databaseProvider||"sqlite").toUpperCase()}}),f.push({id:`e${c}-${j}`,source:c,target:j,animated:!0}),g++}if(d.hasEmailPassword){let a=g.toString();if(e.push({id:a,type:"emailAuth",position:{x:400,y:0},data:{label:"Email + Password Auth",...d.emailPasswordConfig}}),f.push({id:`e${i}-${a}`,source:i,target:a,animated:!0}),g++,d.hasEmailVerification){let b=g.toString();e.push({id:b,type:"emailVerification",position:{x:600,y:0},data:{label:"Email Verification",...d.emailVerificationConfig}}),f.push({id:`e${a}-${b}`,source:a,target:b,animated:!0}),g++}if(d.hasRateLimit){let b=g.toString();e.push({id:b,type:"rateLimit",position:{x:400,y:600},data:{label:"Rate Limiting",...d.rateLimitConfig}}),f.push({id:`e${a}-${b}`,source:a,target:b,animated:!0}),g++}}if(d.socialProviders&&d.socialProviders.length>0){let a=g.toString();if(e.push({id:a,type:"socialLogin",position:{x:400,y:200},data:{label:"Social Login Providers"}}),f.push({id:`e${i}-${a}`,source:i,target:a,animated:!0}),g++,d.socialProviders.forEach((b,c)=>{let d=g.toString();e.push({id:d,type:`oauth${b.charAt(0).toUpperCase()+b.slice(1)}`,position:{x:600+200*c,y:300},data:{label:`${b.charAt(0).toUpperCase()+b.slice(1)} OAuth`}}),f.push({id:`e${a}-${d}`,source:a,target:d,animated:!0}),g++}),d.hasAccountLinking){let b=g.toString();if(e.push({id:b,type:"account",position:{x:600,y:450},data:{label:"Account Linking",...d.accountLinkingConfig}}),f.push({id:`e${a}-${b}`,source:a,target:b,animated:!0}),g++,d.hasAdvanced){let a=g.toString();e.push({id:a,type:"advanced",position:{x:600,y:600},data:{label:"Advanced Options",...d.advancedConfig}}),f.push({id:`e${b}-${a}`,source:b,target:a,animated:!0}),g++}}}return{nodes:e,edges:f}}async function e(){try{let a=await fetch("/utils/auth.ts");if(a.ok)return await a.text()}catch(a){console.log("No auth.ts file found, using default configuration")}return null}a.s(["generateNodesFromAuthFile",()=>d,"loadAuthFileContent",()=>e])}];

//# sourceMappingURL=better-auth-pulse-studio_utils_parseAuthToNodes_ts_6a4d60f8._.js.map